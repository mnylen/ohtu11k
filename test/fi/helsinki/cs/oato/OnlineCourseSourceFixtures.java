package fi.helsinki.cs.oato;

import java.util.*;
import org.json.simple.JSONValue;
import org.joda.time.format.DateTimeFormat;
import org.joda.time.format.DateTimeFormatter;
import org.joda.time.DateTime;

public class OnlineCourseSourceFixtures {
    public static final String expectedData = "{  \"courses\": [    {      \"course\": \"Johdatus tietojenk\\u00e4sittelytieteeseen (itseopiskelu)\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Ohjelmoinnin harjoitusty\\u00f6 (periodi III)\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-25\"    },    {      \"course\": \"Ohjelmoinnin harjoitusty\\u00f6 (periodi IV)\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Ohjelmoinnin jatkokurssi\",      \"start_date\": \"2011-03-15\",      \"end_date\": \"2011-04-28\"    },    {      \"course\": \"Ohjelmoinnin perusteet\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-25\"    },    {      \"course\": \"Tietokantojen perusteet\",      \"start_date\": \"2011-03-16\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Clojure-ohjelmointi\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-25\"    },    {      \"course\": \"Human-Computer Interaction\",      \"start_date\": \"2011-03-15\",      \"end_date\": \"2011-04-27\"    },    {      \"course\": \"Kandidaatintutkielma\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-07\"    },    {      \"course\": \"Ohjelmistotuotanto\",      \"start_date\": \"2011-03-15\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Ohjelmistotuotantoprojekti\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-05-06\"    },    {      \"course\": \"Rinnakkaisohjelmointi\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-25\"    },    {      \"course\": \"Robottiohjelmoinnin harjoitusty\\u00f6\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-25\"    },    {      \"course\": \"Tietokantasovellus (periodi III)\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-01-17\"    },    {      \"course\": \"Tietokantasovellus (periodi IV)\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-03-14\"    },    {      \"course\": \"Tietokoneen toiminta\",      \"start_date\": \"2011-01-20\",      \"end_date\": \"2011-02-24\"    },    {      \"course\": \"Tietorakenteet\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-27\"    },    {      \"course\": \"Tietorakenteiden harjoitusty\\u00f6 (periodi III)\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-25\"    },    {      \"course\": \"Tietorakenteiden harjoitusty\\u00f6 (periodi IV)\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Tietoturvan perusteet\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-25\"    },    {      \"course\": \"Verkkosovellusten toteuttaminen\",      \"start_date\": \"2011-01-18\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"XML-metakieli\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-23\"    },    {      \"course\": \"Biological Sequence Analysis\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-04-27\"    },    {      \"course\": \"Business Process Automation\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-25\"    },    {      \"course\": \"Collaboration of Autonomous Business Services\",      \"start_date\": \"2011-03-15\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Computational Methods of Systems Biology\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-24\"    },    {      \"course\": \"Data Mining\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-04-28\"    },    {      \"course\": \"Data Mining Project\",      \"start_date\": \"2011-05-09\",      \"end_date\": \"2011-05-20\"    },    {      \"course\": \"Diskreetin optimoinnin harjoitusty\\u00f6\",      \"start_date\": \"2011-01-18\",      \"end_date\": \"2011-02-22\"    },    {      \"course\": \"Distributed Systems Project\",      \"start_date\": \"2011-01-18\",      \"end_date\": \"2011-02-24\"    },    {      \"course\": \"Game Engine Architecture\",      \"start_date\": \"2011-01-19\",      \"end_date\": \"2011-02-25\"    },    {      \"course\": \"Interactive Systems\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-02-23\"    },    {      \"course\": \"Making good decisions: Introduction to ethics and social responsibility in resea\",      \"start_date\": \"2011-01-12\",      \"end_date\": \"2011-01-20\"    },    {      \"course\": \"Master\\\"s thesis seminar MBI)\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-25\"    },    {      \"course\": \"Mobile Middleware\",      \"start_date\": \"2011-03-15\",      \"end_date\": \"2011-04-26\"    },    {      \"course\": \"Networks, Crowds and Markets\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-05-20\"    },    {      \"course\": \"Ohjelmistoarkkitehtuurien harjoitusty\\u00f6\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Ohjelmistoprosessit ja ohjelmistojen laatu\",      \"start_date\": \"2011-03-15\",      \"end_date\": \"2011-04-28\"    },    {      \"course\": \"Ohjelmointikielten k\\u00e4\\u00e4nt\\u00e4jien harjoitusty\\u00f6\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Ohjelmointikielten periaatteet\",      \"start_date\": \"2011-03-15\",      \"end_date\": \"2011-04-28\"    },    {      \"course\": \"Probabilistic Models\",      \"start_date\": \"2011-01-18\",      \"end_date\": \"2011-02-24\"    },    {      \"course\": \"Project in Probabilistic Models\",      \"start_date\": \"2011-03-17\",      \"end_date\": \"2011-04-28\"    },    {      \"course\": \"Project in String Processing Algorithms\",      \"start_date\": \"2011-01-18\",      \"end_date\": \"2011-02-22\"    },    {      \"course\": \"Projects in Unsupervised Machine Learning\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Seminaari: Identiteetin- ja p\\u00e4\\u00e4synhallinta\",      \"start_date\": \"2011-01-20\",      \"end_date\": \"2011-04-28\"    },    {      \"course\": \"Seminaari: Ontologiat ja WWW\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-25\"    },    {      \"course\": \"Seminaari: Tietoturvan testaus\",      \"start_date\": \"2011-01-19\",      \"end_date\": \"2011-04-27\"    },    {      \"course\": \"Seminar on Intelligent Systems\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-25\"    },    {      \"course\": \"Seminar: Hot Topics in Mobile Computing\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-25\"    },    {      \"course\": \"Seminar: Measuring the Internet\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-25\"    },    {      \"course\": \"Seminar: Neuroinformatics 3\",      \"start_date\": \"2011-01-19\",      \"end_date\": \"2011-04-27\"    },    {      \"course\": \"Seminar: Thousand Genomes Seminar\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-25\"    },    {      \"course\": \"Software Factory Project (period III)\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-03-04\"    },    {      \"course\": \"Software Factory Project (period IV)\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-05-06\"    },    {      \"course\": \"Software Testing\",      \"start_date\": \"2011-01-18\",      \"end_date\": \"2011-02-24\"    },    {      \"course\": \"Supervised Machine Learning\",      \"start_date\": \"2011-01-18\",      \"end_date\": \"2011-02-24\"    },    {      \"course\": \"Tietokonegrafiikan seminaari\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-25\"    },    {      \"course\": \"Tietovarastot\",      \"start_date\": \"2011-01-19\",      \"end_date\": \"2011-02-24\"    },    {      \"course\": \"Unsupervised Machine Learning\",      \"start_date\": \"2011-03-15\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"PhD Student Seminar\",      \"start_date\": \"2011-01-28\",      \"end_date\": \"2011-03-25\"    },    {      \"course\": \"\\u00c4idinkielinen viestint\\u00e4\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Ohjelmistotuotantoprojektiin liittyv\\u00e4 ty\\u00f6el\\u00e4m\\u00e4\\u00e4n orientointi\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-29\"    },    {      \"course\": \"Software Factory Work Experience (period III)\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-03-04\"    },    {      \"course\": \"Software Factory Work Experience (period IV)\",      \"start_date\": \"2011-03-14\",      \"end_date\": \"2011-05-06\"    },    {      \"course\": \"Tutkimustiedonhaku\",      \"start_date\": \"2011-01-17\",      \"end_date\": \"2011-04-29\"    }  ]}";
    public static final DateTimeFormatter formatter = DateTimeFormat.forPattern("YYYY-MM-dd");
    
    public static List<Course> expectedCourses() {
        Map topMap = (Map) JSONValue.parse(expectedData);
        List fixtureCourses = (List) topMap.get("courses");
        List<Course> parsedCourses = new ArrayList<Course>();

        for (Iterator i=fixtureCourses.iterator(); i.hasNext();) {
            Map item = (Map) i.next();
            parsedCourses.add(new Course((String) item.get("course"),
                formatter.parseDateTime((String) item.get("start_date")),
                formatter.parseDateTime((String) item.get("end_date"))));
        }

        return parsedCourses;
    }

    public static List<Course> fiveKnownCourses() {
        List<Course> ret = new ArrayList<Course>();
        ret.add(new Course("Ohjelmistotuotanto",
                           new DateTime(2011, 3, 15, 0, 0, 0, 0),
                           new DateTime(2011, 4, 29, 0, 0, 0, 0)));
        ret.add(new Course("Verkkosovellusten toteuttaminen",
                           new DateTime(2011, 1, 18, 0, 0, 0, 0),
                           new DateTime(2011, 4, 29, 0, 0, 0, 0)));
        ret.add(new Course("Tietorakenteiden harjoitustyö (periodi III)",
                           new DateTime(2011, 1, 17, 0, 0, 0, 0),
                           new DateTime(2011, 2, 25, 0, 0, 0, 0)));
        ret.add(new Course("Ohjelmoinnin harjoitustyö (periodi IV)",
                           new DateTime(2011, 3, 14, 0, 0, 0, 0),
                           new DateTime(2011, 4, 29, 0, 0, 0, 0)));
        ret.add(new Course("Ohjelmistotuotantoprojektiin liittyvä työelämään orientointi",
                           new DateTime(2011, 1, 17, 0, 0, 0, 0),
                           new DateTime(2011, 4, 29, 0, 0, 0, 0)));
        ret.add(new Course("Ohjelmistotuotantoprojektiin liittyvä työelämään orientointi",
                           new DateTime(2011, 1, 17, 0, 0, 0, 0),
                           new DateTime(2011, 4, 29, 0, 0, 0, 0)));
        return ret;
    }
}